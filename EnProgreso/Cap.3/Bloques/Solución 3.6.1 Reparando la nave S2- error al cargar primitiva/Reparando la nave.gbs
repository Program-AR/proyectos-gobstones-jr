program { RepararLaNaveYEscapar() }

procedure RepararLaNaveYEscapar() {
repeat (3) 
   { 
ConseguirUnHierro() 
ConseguirUnCarbon()
   } 
VolverACasa()
}

procedure ConseguirUnHierro() {
IrHastaElHierro()
AgarrarHierro()
VolverConElHierro()
PonerHierroEnLaNave()
}

procedure ConseguirUnCarbon() {
IrHastaElCarbon()
AgarrarCarbon()
VolverConElCarbon()
PonerCarbonEnLaNave()
}

procedure IrHastaElHierro() 
{ repeat (3) { MoverMarcianoAl(Norte) } }

procedure VolverConElHierro() 
{ repeat (3) { MoverMarcianoAl(Sur) } }

procedure IrHastaElCarbon() {
repeat (3) { MoverMarcianoAl(Norte); MoverMarcianoAl(Este) }
MoverMarcianoAl(Este)
}

procedure VolverConElCarbon() {
repeat (3) { MoverMarcianoAl(Sur); MoverMarcianoAl(Oeste) }
MoverMarcianoAl(Oeste)
}