program { RepararLaNaveYEscapar() }

procedure RepararLaNaveYEscapar() {
ConseguirTodoElHierro()
ConseguirTodoElCarbon()
VolverACasa()
}

procedure ConseguirTodoElHierro() 
{ repeat (3) { ConseguirUnHierro() } }

procedure ConseguirTodoElCarbon() 
{ repeat (3) { ConseguirUnCarbon() } }

procedure ConseguirUnHierro() {
IrHastaElHierro()
AgarrarHierro()
VolverConElHierro()
PonerHierroEnLaNave()
}

procedure ConseguirUnCarbon() {
IrHastaElCarbon()
AgarrarCarbon()
VolverConElCarbon()
PonerCarbonEnLaNave()
}

procedure IrHastaElHierro() 
{ repeat (3) { MoverMarcianoAl(Norte) } }

procedure VolverConElHierro() 
{ repeat (3) { MoverMarcianoAl(Sur) } }

procedure IrHastaElCarbon() {
repeat (3) { MoverMarcianoAl(Norte); MoverMarcianoAl(Este) }
MoverMarcianoAl(Este)
}

procedure VolverConElCarbon() {
repeat (3) { MoverMarcianoAl(Sur); MoverMarcianoAl(Oeste) }
MoverMarcianoAl(Oeste)
}